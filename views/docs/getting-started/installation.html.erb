<div class="docs">
  <div class="full-width">
    <div class="two-third">
<h2 id="getting-started-installation"><a class="toclink" href="#getting-started-installation"><a href="/docs">Getting Started</a> &gt; Installation</a></h2>
<div class="toc">
<ul>
<li><a href="#getting-started-installation">Getting Started &gt; Installation</a><ul>
<li><a href="#install-the-adhearsion-gem">Install the Adhearsion gem</a></li>
<li><a href="#create-an-adhearsion-application">Create an Adhearsion application</a></li>
<li><a href="#configure-your-application">Configure your application</a><ul>
<li><a href="#gemfile">Gemfile</a></li>
<li><a href="#configadhearsionrb">config/adhearsion.rb</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h3 id="install-the-adhearsion-gem"><a class="toclink" href="#install-the-adhearsion-gem">Install the Adhearsion gem</a></h3>
<p>First, install the Adhearsion gem and its dependencies:</p>
<pre class="terminal">
<div class="highlight"><pre><a name="source-getting-started-installation.sh-idio-1"></a>gem install --prerelease adhearsion
</pre></div>

</pre>

<h3 id="create-an-adhearsion-application"><a class="toclink" href="#create-an-adhearsion-application">Create an Adhearsion application</a></h3>
<p>Next, create your first Adhearsion application:</p>
<pre class="terminal">

$ ahn create myapp
<span class="ansi1"><span class="ansi32">      create</span></span>  config
<span class="ansi1"><span class="ansi32">      create</span></span>  config/adhearsion.rb
<span class="ansi1"><span class="ansi32">      create</span></span>  config/environment.rb
<span class="ansi1"><span class="ansi32">      create</span></span>  lib
<span class="ansi1"><span class="ansi32">      create</span></span>  lib/simon_game.rb
<span class="ansi1"><span class="ansi32">      create</span></span>  script
<span class="ansi1"><span class="ansi32">      create</span></span>  script/ahn
<span class="ansi1"><span class="ansi32">      create</span></span>  spec
<span class="ansi1"><span class="ansi32">      create</span></span>  spec/spec_helper.rb
<span class="ansi1"><span class="ansi32">      create</span></span>  spec/call_controllers
<span class="ansi1"><span class="ansi32">      create</span></span>  spec/support
<span class="ansi1"><span class="ansi32">      create</span></span>  Gemfile
<span class="ansi1"><span class="ansi32">      create</span></span>  .gitignore
<span class="ansi1"><span class="ansi32">      create</span></span>  .rspec
<span class="ansi1"><span class="ansi32">      create</span></span>  Procfile
<span class="ansi1"><span class="ansi32">      create</span></span>  Rakefile
<span class="ansi1"><span class="ansi32">      create</span></span>  README.md
<span class="ansi1"><span class="ansi32">       chmod</span></span>  script/ahn
Shutdown completed cleanly
$ cd myapp
</pre>

<h3 id="configure-your-application"><a class="toclink" href="#configure-your-application">Configure your application</a></h3>
<p>Looking at the output from "ahn create", you will see several files are generated for you.  Here are the most important ones:</p>
<h4 id="gemfile"><a class="toclink" href="#gemfile">Gemfile</a></h4>
<p>Here is the Gemfile that is generated with your new application:</p>
<p>-- d['artifacts/myapp/Gemfile|pyg'] --</p>
<p>In it you can see the Adhearsion framework itself is required.  Also included, but commented out, are several popular or useful plugins.  To enable their usage, simply uncomment the line from the Gemfile.  When you are done with that, install all the plugins you specified by running "bundle install":</p>
<pre class="terminal">

$ bundle install
Using rake (0.9.2.2)
Using i18n (0.6.0)
Using multi_json (1.2.0)
Using activesupport (3.2.3)
Using adhearsion-loquacious (1.9.2)
Using bundler (1.1.0)
Using celluloid (0.10.0)
Using countdownlatch (1.0.0)
Using deep_merge (1.0.0)
Using ffi (1.0.11)
Using future-resource (1.0.0)
Using connection_pool (0.1.0)
Using girl_friday (0.9.7)
Using systemu (2.5.0)
Using macaddr (1.5.0)
Using uuid (2.3.5)
Using has-guarded-handlers (1.2.0)
Using json (1.6.6)
Using little-plugger (1.1.3)
Using logging (1.7.2)
Using coderay (0.9.8)
Using sexp_processor (3.1.0)
Using ruby_parser (2.3.1)
Using method_source (0.6.7)
Using slop (2.1.0)
Using pry (0.9.7.4)
Using eventmachine (0.12.10)
Using nokogiri (1.4.7)
Using niceogiri (1.0.1)
Using blather (0.7.0)
Using uuidtools (2.1.2)
Using ruby_ami (1.0.0)
Using ruby_speech (1.0.0)
Using state_machine (1.1.2)
Using punchblock (0.12.0)
Using thor (0.14.6)
Using adhearsion (2.0.0.rc4)
Using highline (1.6.2)
Using net-ssh (2.1.4)
Using net-scp (1.0.4)
Using net-sftp (2.0.5)
Using net-ssh-gateway (1.1.0)
Using capistrano (2.6.0)
Using guard (1.0.1)
Using haml (3.1.2)
Using haml-coderay (0.1.2)
Using rack (1.3.1)
Using rack-cache (1.0.2)
Using railsless-deploy (1.0.2)
Using tilt (1.3.2)
Using sinatra (1.2.6)
Using sinatra_more (0.3.43)
Updating .gem files in vendor/cache
<span class="ansi32">Your bundle is complete! It was installed into ./vendor</span>
</pre>

<h4 id="configadhearsionrb"><a class="toclink" href="#configadhearsionrb">config/adhearsion.rb</a></h4>
<p>Next is the main Adhearsion configuration file, config/adhearsion.rb:</p>
<p>-- d['artifacts/myapp/config/adhearsion.rb|pyg'] --</p>
<p>This is just a skeleton however.  To see the full list of available configuration options avaiable, you can always run "rake config:show".  Note that your output may be different, depending on which plugins you selected above:</p>
<pre class="terminal">

$ rake config:show

Adhearsion configured environment: development

Adhearsion.config do |config|

  # ******* Configuration for platform **************

<span class="ansi33">  # </span><span class="ansi32">Active environment. Supported values: development, production, staging, test [AHN_PLATFORM_ENVIRONMENT]</span>
<span class="ansi33">  config.platform.</span><span class="ansi37">environment       </span><span class="ansi33"> = </span><span class="ansi36">:development</span>

<span class="ansi33">  # </span><span class="ansi32">Folder to include the own libraries to be used. Adhearsion loads any ruby file</span>
<span class="ansi33">  # </span><span class="ansi32">located into this folder during the bootstrap process. Set to nil if you do not</span>
<span class="ansi33">  # </span><span class="ansi32">want these files to be loaded. This folder is relative to the application root folder. [AHN_PLATFORM_LIB]</span>
<span class="ansi33">  config.platform.</span><span class="ansi37">lib               </span><span class="ansi33"> = </span><span class="ansi36">"lib"</span>

<span class="ansi33">  # </span><span class="ansi32">Log configuration [AHN_PLATFORM_LOGGING]</span>
<span class="ansi33">  config.platform.</span><span class="ansi37">logging</span>

<span class="ansi33">  # </span><span class="ansi32">A log formatter to apply to all active outputters. If nil, the Adhearsion default formatter will be used. [AHN_PLATFORM_LOGGING_FORMATTER]</span>
<span class="ansi33">  config.platform.</span><span class="ansi37">logging.formatter </span><span class="ansi33"> = </span><span class="ansi36">nil</span>

<span class="ansi33">  # </span><span class="ansi32">Supported levels (in increasing severity) -- :trace &lt; :debug &lt; :info &lt; :warn &lt; :error &lt; :fatal [AHN_PLATFORM_LOGGING_LEVEL]</span>
<span class="ansi33">  config.platform.</span><span class="ansi37">logging.level     </span><span class="ansi33"> = </span><span class="ansi36">:debug</span>

<span class="ansi33">  # </span><span class="ansi32">An array of log outputters to use. The default is to log to stdout and log/adhearsion.log.</span>
<span class="ansi33">  # </span><span class="ansi32">Each item must be either a string to use as a filename, or a valid Logging appender (see http://github.com/TwP/logging) [AHN_PLATFORM_LOGGING_OUTPUTTERS]</span>
<span class="ansi33">  config.platform.</span><span class="ansi37">logging.outputters</span><span class="ansi33"> = </span><span class="ansi36">["log/adhearsion.log"]</span>

<span class="ansi33">  # </span><span class="ansi32">Adhearsion process name, useful to make it easier to find in the process list</span>
<span class="ansi33">  # </span><span class="ansi32">Pro tip: set this to your application's name and you can do "killall myapp"</span>
<span class="ansi33">  # </span><span class="ansi32">Does not work under JRuby. [AHN_PLATFORM_PROCESS_NAME]</span>
<span class="ansi33">  config.platform.</span><span class="ansi37">process_name      </span><span class="ansi33"> = </span><span class="ansi36">"ahn"</span>

<span class="ansi33">  # </span><span class="ansi32">Adhearsion application root folder [AHN_PLATFORM_ROOT]</span>
<span class="ansi33">  config.platform.</span><span class="ansi37">root              </span><span class="ansi33"> = </span><span class="ansi36">"/Users/ben/code/VoIP/adhearsion/website/docs/artifacts/470d222921992289bd5c9dc5c18cda74/source/getting-started/myapp"</span>

  # ******* Configuration for punchblock **************

<span class="ansi33">  # </span><span class="ansi32">The domain at which to address calls [AHN_PUNCHBLOCK_CALLS_DOMAIN]</span>
<span class="ansi33">  config.punchblock.</span><span class="ansi37">calls_domain      </span><span class="ansi33"> = </span><span class="ansi36">nil</span>

<span class="ansi33">  # </span><span class="ansi32">The amount of time to wait for a connection [AHN_PUNCHBLOCK_CONNECTION_TIMEOUT]</span>
<span class="ansi33">  config.punchblock.</span><span class="ansi37">connection_timeout</span><span class="ansi33"> = </span><span class="ansi36">60</span>

<span class="ansi33">  # </span><span class="ansi32">Host punchblock needs to connect (where rayo or asterisk are located) [AHN_PUNCHBLOCK_HOST]</span>
<span class="ansi33">  config.punchblock.</span><span class="ansi37">host              </span><span class="ansi33"> = </span><span class="ansi36">nil</span>

<span class="ansi33">  # </span><span class="ansi32">The media engine to use. Defaults to platform default. [AHN_PUNCHBLOCK_MEDIA_ENGINE]</span>
<span class="ansi33">  config.punchblock.</span><span class="ansi37">media_engine      </span><span class="ansi33"> = </span><span class="ansi36">nil</span>

<span class="ansi33">  # </span><span class="ansi32">The domain at which to address mixers [AHN_PUNCHBLOCK_MIXERS_DOMAIN]</span>
<span class="ansi33">  config.punchblock.</span><span class="ansi37">mixers_domain     </span><span class="ansi33"> = </span><span class="ansi36">nil</span>

<span class="ansi33">  # </span><span class="ansi32">Authentication credentials [AHN_PUNCHBLOCK_PASSWORD]</span>
<span class="ansi33">  config.punchblock.</span><span class="ansi37">password          </span><span class="ansi33"> = </span><span class="ansi36">"1"</span>

<span class="ansi33">  # </span><span class="ansi32">Platform punchblock shall use to connect to the Telephony provider. Currently supported values:</span>
<span class="ansi33">  # </span><span class="ansi32">- :xmpp</span>
<span class="ansi33">  # </span><span class="ansi32">- :asterisk [AHN_PUNCHBLOCK_PLATFORM]</span>
<span class="ansi33">  config.punchblock.</span><span class="ansi37">platform          </span><span class="ansi33"> = </span><span class="ansi36">:xmpp</span>

<span class="ansi33">  # </span><span class="ansi32">Port punchblock needs to connect (by default 5038 for Asterisk, 5222 for Rayo) [AHN_PUNCHBLOCK_PORT]</span>
<span class="ansi33">  config.punchblock.</span><span class="ansi37">port              </span><span class="ansi33"> = </span><span class="ansi36">nil</span>

<span class="ansi33">  # </span><span class="ansi32">The number of times to (re)attempt connection to the server [AHN_PUNCHBLOCK_RECONNECT_ATTEMPTS]</span>
<span class="ansi33">  config.punchblock.</span><span class="ansi37">reconnect_attempts</span><span class="ansi33"> = </span><span class="ansi36">Infinity</span>

<span class="ansi33">  # </span><span class="ansi32">Delay between connection attempts [AHN_PUNCHBLOCK_RECONNECT_TIMER]</span>
<span class="ansi33">  config.punchblock.</span><span class="ansi37">reconnect_timer   </span><span class="ansi33"> = </span><span class="ansi36">5</span>

<span class="ansi33">  # </span><span class="ansi32">The root domain at which to address the server [AHN_PUNCHBLOCK_ROOT_DOMAIN]</span>
<span class="ansi33">  config.punchblock.</span><span class="ansi37">root_domain       </span><span class="ansi33"> = </span><span class="ansi36">nil</span>

<span class="ansi33">  # </span><span class="ansi32">Authentication credentials [AHN_PUNCHBLOCK_USERNAME]</span>
<span class="ansi33">  config.punchblock.</span><span class="ansi37">username          </span><span class="ansi33"> = </span><span class="ansi36">"usera@127.0.0.1"</span>

end
Shutdown completed cleanly
</pre>

<p><a href="#" rel="docs-nav-active" style="display:none;">docs-nav-getting-started</a></p>
<div class='docs-progress-nav'>
  <span class='back'>
    Back to <a href="/docs/getting-started/prerequisites">Prerequisites</a>
  </span>
  <span class='forward'>
    Continue to <a href="/docs/call-controllers">Call Controllers</a>
  </span>
</div>
    </div>

    <div class="one-third">
      <div class="outer-rounded-box-bold">
        <div class="inner-rounded-box-filled-grey clearfix">
          <h3>Documentation</h3>
          <ul class="collapsibleList">
            <li id="docs-nav-getting-started">
              Getting Started
              <ul>
                <li id="docs-nav-getting-started-prerequisites"><a href="/docs/getting-started/prerequisites">Prerequisites</a></li>
                <li id="docs-nav-getting-started-installation"><a href="/docs/getting-started/installation">Installation</a></li>
              </ul>
            </li>
            <li id="docs-nav-call-controller"><a href="/docs/call-controllers">Call Controllers</a></li>
            <li id="docs-nav-plugins"><a href="/docs/plugins">Plugins</a></li>
            <li id="docs-nav-routing"><a href="/docs/routing">Routing</a></li>
            <li id="docs-nav-config"><a href="/docs/config">Config</a></li>
            <li id="docs-nav-logging"><a href="/docs/logging">Logging</a></li>
            <li id="docs-nav-best-practices">
              Best Practices
              <ul>
                <li id="docs-nav-best-practices-testing"><a href="/docs/best-practices/testing">Testing</a></li>
                <li id="docs-nav-best-practices-deployment"><a href="/docs/best-practices/deployment">Deployment</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="clear"></div>
  </div>
</div>

<a href="#" id="main-nav-active" style="display:none;">#main-nav-docs</a>